<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	template="/layout/template.xhtml">


	<ui:define name="content">

		<h:form>
			<div class="imixs-form">
				<div class="imixs-header">
					<h1>
						<span class="typcn typcn-download-outline"></span>Import
					</h1>
				</div>

				
				<div class="row">


					<div class="col-6">
						<div class="monitor-portlet">

							<h1>Import Status:   </h1>

							<table style="width: 100%;">

								<tr>
									<td>Process:</td>
									<td><ui:fragment
											rendered="#{importDataController.running}">
							RUNNING <span class="typcn typcn-media-record"
												style="font-size: 1.3em; color: #5c9e5c;"></span>
										</ui:fragment> <ui:fragment
											rendered="#{!importDataController.running}">
							STOPPED <span class="typcn typcn-media-record"
												style="font-size: 1.3em; color: #e84848;"></span>
										</ui:fragment></td>
								</tr>
								
							</table>


							<!-- Start / Stop import scheduler -->
							<p style="margin-top: 10px;">
								<h:commandButton value="start"
									action="import?faces-redirect=true"
									rendered="#{!importDataController.running}"
									actionListener="#{importDataController.start()}"></h:commandButton>

								<h:commandButton value="cancel"
									action="import?faces-redirect=true"
									rendered="#{importDataController.running}"
									actionListener="#{importDataController.cancel()}"></h:commandButton>
									
									
							</p>
						</div>

					</div>


					<div class="col-6">
						<div class="monitor-portlet">

							<h1>Import Status:</h1>

							<p class="lead" style="float: left; width: 48%;">
								<span class="typcn typcn-shopping-cart" style="color: #5c9e5c;"></span>
								#{importDataController.importSize} <span style="font-size: 0.3em">#{importDataController.importSizeUnit}</span>
							</p>

							<p class="lead" style="">
								<span class="typcn typcn-arrow-repeat-outline"
									style="color: #5c9e5c;"></span>
								#{importDataController.importCount} <span
									style="font-size: 0.3em">total import</span>
							</p>
							<p class="small">Last Import:
								#{importDataController.importPoint}</p>
						</div>
					</div>





				</div>



				<div class="row">


					<div class="col-12">
						<div class="monitor-portlet">
							<h1>Log:</h1>
							<p class="small">
								<ui:repeat var="entry" value="#{importDataController.messages}">
								#{entry}
								<br />
								</ui:repeat>
							</p>
						</div>
					</div>

				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
