<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/layout/template.xhtml">


	<ui:define name="content">


		<div class="imixs-form">
			<div class="imixs-header">
				<h1>
					<span class="typcn typcn-chart-bar-outline"></span>Monitor
				</h1>
			</div>

			<div class="row">


				<div class="col-12">
					<div class="monitor-portlet">
						<h1>Archive Status:</h1>
						<table style="width: 100%;">

							<tr>
								<td style="width: 25%;">Cluster Contact Points:</td>
								<td>#{clusterDataController.contactPoints}</td>
							</tr>

							<tr>
								<td>KeySpace:</td>
								<td>#{clusterDataController.keySpace}</td>
							</tr>


							<tr>
								<td>Replication Factor:</td>
								<td>#{clusterDataController.replicationFactor}</td>
							</tr>
							<tr>
								<td>Replication Strategy:</td>
								<td>#{clusterDataController.replicationClass}</td>
							</tr>


							<tr>
								<td>Connecton Status:</td>
								<td><ui:fragment
										rendered="#{clusterDataController.connected}">
							OK <span class="typcn typcn-media-record"
											style="font-size: 1.3em; color: #5c9e5c;"></span>
									</ui:fragment> <ui:fragment rendered="#{!clusterDataController.connected}">
							Failed <span class="typcn typcn-media-record"
											style="font-size: 1.3em; color: #e84848;"></span>
									</ui:fragment></td>
							</tr>

							<tr>
								<td style="width: 25%;">Endpoint:</td>
								<td>#{clusterDataController.serviceEndpoint}</td>
							</tr>

						</table>


					</div>
				</div>
			</div>
			<div class="row">


				<div class="col-6">
					<div class="monitor-portlet">

						<h1>Scheduler Status:</h1>

						<table style="width: 100%;">

							<tr>
								<td>Timer:</td>
								<td><ui:fragment
										rendered="#{!empty clusterDataController.nextTimeout}">
							RUNNING <span class="typcn typcn-media-record"
											style="font-size: 1.3em; color: #5c9e5c;"></span>
									</ui:fragment> <ui:fragment
										rendered="#{empty clusterDataController.nextTimeout}">
							STOPPED <span class="typcn typcn-media-record"
											style="font-size: 1.3em; color: #e84848;"></span>
									</ui:fragment></td>
							</tr>

							<tr>
								<td>Scheduler:</td>
								<td>#{clusterDataController.scheduler}</td>
							</tr>

							<tr>
								<td style="width: 25%;">Next Timeout:</td>
								<td>#{clusterDataController.nextTimeout}</td>
							</tr>





						</table>


					</div>

				</div>


				<div class="col-6">
					<div class="monitor-portlet">

						<h1>Synchronisation Status:</h1>
						<p class="lead" style="float:left; width:48%;">
							<span class="typcn typcn-arrow-repeat-outline" style="color: #5c9e5c;"></span>
							#{clusterDataController.syncCount} <span style="font-size: 0.3em">total syncs</span>
						</p>
						
						
						<p class="lead" style="">
							<span class="typcn typcn-shopping-cart" style="color: #5c9e5c;"></span>
							#{clusterDataController.syncSize} <span style="font-size: 0.3em">#{clusterDataController.syncSizeUnit}</span>
						</p>

						<p class="small">Last Syncpoint:
							#{clusterDataController.syncPoint}</p>


					</div>
				</div>

			</div>



			<div class="row">


				<div class="col-12">
					<div class="monitor-portlet">
						<h1>Log:</h1>
						<p class="small">
							<ui:repeat var="entry" value="#{clusterDataController.messages}">
								#{entry}
								<br />
							</ui:repeat>
						</p>
					</div>
				</div>

			</div>
		</div>
	</ui:define>
</ui:composition>
