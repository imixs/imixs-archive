<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/layout/template.xhtml">

	<ui:define name="content">
		<h:form>
			<div class="imixs-form">
				<div class="imixs-header">
					<h1>
						<span class="typcn typcn-compass"></span>Inspect Snapshot
					</h1>
				</div>

				<div class="row">
					<div class="col-12">
						<div class="monitor-portlet">
							<h1>Inspect a single process instance:</h1>

							<p class="small">Enter the UniqueID of a process instance to
								load all existing snapshots.</p>
							<table style="width: 100%;">

								<tr>
									<td>UniqueID:</td>
									<td><h:inputText value="#{inspectController.uniqueid}"
											style="width:23em;"></h:inputText> <h:commandButton
											value="load"
											actionListener="#{inspectController.loadSnapshotIDs()}"></h:commandButton>
									</td>
								</tr>
							</table>
						</div>
					</div>
				</div>

				<!-- List snapshot IDs -->
				<div class="row">
					<div class="col-12">
						<div class="monitor-portlet">
							<h1>Snapshots:</h1>
							<table style="width: 100%;">
								<tr>
									<th style="width: 400px;">SnapshotID</th>
									<th style="width: 200px;">created</th>
									<th></th>
								</tr>
								<c:forEach items="#{inspectController.snapshotIDs}" var="id">
									<tr>
										<td>#{id}</td>
										<td style="text-align: center;">#{inspectController.getTime(id)}</td>
										<td><a target="_blank" class="button"
											href="/api/snapshot/#{id}">load</a>
											
											
											<h:commandButton
											value="restore"
											actionListener="#{inspectController.restpreSnapshot(id)}"></h:commandButton>
											
											</td>
									</tr>
								</c:forEach>
							</table>
						</div>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
